<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honywood Reads: Recommended Books</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide icons. This file registers the global 'lucide' object. --><script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom scrollbar for a nicer look */
        .custom-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: #f7a838; /* A nice orange/amber */
            border-radius: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background-color: #f3f4f6;
        }
        /* Custom hover effect for year bubbles */
        .year-bubble:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans min-h-screen">
    <div id="app" class="max-w-6xl mx-auto p-4 md:p-8">

        <!-- Header: JAZZED UP SECTION -->
        <header class="py-8 mb-10 bg-blue-900 text-white rounded-xl shadow-2xl relative overflow-hidden">
            <!-- Background decorative pattern -->
            <div class="absolute inset-0 opacity-10 bg-repeat" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\' opacity=\'0.2\'><text x=\'10\' y=\'80\' font-size=\'100\' fill=\'#FFFFFF\'>ðŸ“š</text></svg>'); background-size: 50px;"></div>
            
            <!-- Main Title Block - Now centered independently -->
            <div class="relative z-10 flex flex-col items-center px-4 md:px-8">
                <div class="text-center mx-4">
                    <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight">
                        Honywood <span class="text-yellow-400">Reads</span>
                    </h1>
                    <p class="text-xl text-blue-100 mt-2 font-medium"></p>
                </div>
            </div>

            <!-- Book Icon on Left (moved closer to border via absolute positioning) -->
            <div class="hidden md:block absolute top-1/2 left-8 transform -translate-y-1/2 z-10">
                <i data-lucide="book-open" class="w-16 h-16 text-yellow-400"></i>
            </div>

            <!-- Decorative Book Icon on Right (moved closer to border via absolute positioning) -->
            <div class="hidden md:block absolute top-1/2 right-8 transform -translate-y-1/2 z-10">
                <i data-lucide="book-open" class="w-16 h-16 text-yellow-400"></i>
            </div>
            
            <!-- Subtitle moved here, below the main title, for better centering -->
            <p class="text-xl text-blue-100 mt-2 text-center font-medium relative z-10">Your monthly guide to amazing books.</p>
        </header>

        <!-- Main Navigation Tabs -->
        <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 mb-10">
            <button id="nav-reads" onclick="showSection('recommended-reads')" class="flex-1 py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300">
                Recommended Reads
            </button>
            <button id="nav-borrowbox" onclick="showSection('borrowbox-guide')" class="flex-1 py-3 px-6 bg-gray-200 text-gray-700 font-semibold rounded-lg shadow-md hover:bg-gray-300 transition duration-300">
                BorrowBox Guide
            </button>
            <button id="nav-reviews" onclick="showSection('submit-review')" class="flex-1 py-3 px-6 bg-gray-200 text-gray-700 font-semibold rounded-lg shadow-md hover:bg-gray-300 transition duration-300">
                Submit a Review
            </button>
        </div>

        <!-- Section 1: Recommended Reads -->
        <div id="recommended-reads" class="section bg-white p-6 md:p-8 rounded-xl shadow-xl">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b pb-3">Recommended Reads</h2>

            <!-- Year Group Bubbles -->
            <div id="year-tabs" class="flex flex-wrap gap-3 mb-8">
                <!-- Tabs will be generated here by JS -->
            </div>

            <!-- Reading List Container -->
            <div id="reading-list-container" class="space-y-6">
                <!-- Book recommendations will be rendered here by JS -->
            </div>
        </div>

        <!-- Section 2: BorrowBox Guide -->
        <div id="borrowbox-guide" class="section hidden bg-white p-6 md:p-8 rounded-xl shadow-xl">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b pb-3">How to Get Started with BorrowBox</h2>

            <div class="space-y-6 text-gray-700">
                <!-- IMPROVED TONE -->
                <p>BorrowBox is your free ticket to thousands of eBooks and eAudiobooks using your local library card! It's the fastest way to get your hands on our recommendations.</p>

                <h3 class="text-2xl font-semibold text-blue-700">Step 1: Get Your Library Card</h3>
                <p>You will need an active membership with your local library service (e.g., Essex Libraries). If you don't have one, ask your school librarian or visit the library's website to sign upâ€”it's usually quick and free for students!</p>

                <h3 class="text-2xl font-semibold text-blue-700">Step 2: Download the App</h3>
                <ul class="list-disc list-inside ml-4 space-y-2">
                    <li>Search for the **'BorrowBox'** app on the Apple App Store (iOS) or Google Play Store (Android).</li>
                    <li>You can also access it via your web browser on a computer.</li>
                </ul>

                <h3 class="text-2xl font-semibold text-blue-700">Step 3: Log In</h3>
                <ul class="list-disc list-inside ml-4 space-y-2">
                    <li>Open the app and find your library service (e.g., 'Essex County Council Libraries').</li>
                    <li>Enter your Library Card Number and your PIN/Password.</li>
                    <li>If you've forgotten your PIN, there's usually a "Forgot PIN" link on the login screen, or you can contact your library directly.</li>
                </ul>

                <h3 class="text-2xl font-semibold text-blue-700">Step 4: Start Borrowing!</h3>
                <p>You can now browse thousands of titles, borrow them instantly, and read or listen right within the app. Enjoy reading!</p>
            </div>
        </div>

        <!-- Section 3: Submit Review & Help -->
        <div id="submit-review" class="section hidden bg-white p-6 md:p-8 rounded-xl shadow-xl">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b pb-3">Submit a Review & Get Help</h2>

            <!-- !!! START OF MONTHLY UPDATE ZONE !!! -->
            <!-- 
                UPDATE: If your help email address changes, update it here 
                        and in the JavaScript function below (line ~280)
            -->
            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-8 rounded-lg">
                <div class="flex items-center">
                    <i data-lucide="mail" class="w-6 h-6 text-blue-600 mr-3"></i>
                    <p class="font-bold text-lg text-blue-800">Need Help? Contact Us!</p>
                </div>
                <p class="mt-2 text-blue-700">For any issues with BorrowBox, book suggestions, or general questions, please email:</p>
                <a href="mailto:leadlearners@honywoodschool.com" class="text-orange-600 font-semibold hover:underline block mt-1">leadlearners@honywoodschool.com</a>
            </div>
            <!-- !!! END OF MONTHLY UPDATE ZONE !!! -->
            
            <!-- Review Submission Form -->
            <!-- Updated Title for better tone -->
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Ready for a prize? Share Your Book Review!</h3>
            <!-- Updated prize text and removed ** for a cleaner, friendlier tone -->
            <p class="text-gray-600 mb-4">Write a review of any book you've read! One student review will be selected each month to feature in the school headlines, and the winner will receive an awesome prize.</p>

            <form id="review-form" class="space-y-4">
                <div>
                    <label for="review-title" class="block text-sm font-medium text-gray-700">Book Title</label>
                    <input type="text" id="review-title" required placeholder="e.g. The Hobbit" class="mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="review-author" class="block text-sm font-medium text-gray-700">Author</label>
                    <input type="text" id="review-author" required placeholder="e.g. J.R.R. Tolkien" class="mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="review-student" class="block text-sm font-medium text-gray-700">Your Name & Year Group (e.g., John S, Year 9)</label>
                    <input type="text" id="review-student" required placeholder="Your Name, Year Group" class="mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="review-text" class="block text-sm font-medium text-gray-700">Your Review (Try to keep it under 150 words!)</label>
                    <textarea id="review-text" rows="5" required placeholder="What did you think of the book? Why should others read it?" class="mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>
                </div>
                <!-- Removed star icon to address the '*' request -->
                <button type="submit" class="w-full py-3 px-4 bg-orange-500 text-white font-semibold rounded-lg shadow-md hover:bg-orange-600 transition duration-300">
                    Send My Review!
                </button>
            </form>
            <div id="review-status" class="mt-4 hidden p-3 bg-green-100 border border-green-400 text-green-700 rounded-md" role="alert"></div>
        </div>
    </div>

    <script>
        // ======================================================================================
        // !!! START OF MONTHLY UPDATE ZONE !!!
        // 1. BOOK DATA: UPDATE THIS SECTION MONTHLY!
        // ======================================================================================
        /*
         * Book entries updated to include a placeholder for all links.
         */
        const bookData = {
            'Year 7': [
                {
                    title: "The BFG",
                    author: "Roald Dahl",
                    // UPDATE: Image URL for the book cover (100x150 recommended)
                    coverUrl: "https://placehold.co/100x150/f7a838/ffffff?text=The+BFG",
                    // UPDATE: Amazon link (or equivalent)
                    buyLink: "https://www.amazon.co.uk/BFG-Roald-Dahl/dp/0141362758",
                    // UPDATE: BorrowBox link (or equivalent)
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/The-BFG/details/163013"
                },
                {
                    title: "Goodnight Mister Tom",
                    author: "Michelle Magorian",
                    coverUrl: "https://placehold.co/100x150/8a2be2/ffffff?text=Mister+Tom",
                    buyLink: "https://www.amazon.co.uk/Goodnight-Mister-Tom-Puffin-Modern/dp/0141348827",
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/Goodnight-Mister-Tom/details/123456" 
                }
            ],
            'Year 8': [
                {
                    title: "Holes",
                    author: "Louis Sachar",
                    coverUrl: "https://placehold.co/100x150/1e90ff/ffffff?text=HOLES",
                    buyLink: "https://www.amazon.co.uk/Holes-Louis-Sachar/dp/1405206338",
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/Holes/details/234567" 
                },
                {
                    title: "The Graveyard Book",
                    author: "Neil Gaiman",
                    coverUrl: "https://placehold.co/100x150/228b22/ffffff?text=Graveyard+Book",
                    buyLink: "https://www.amazon.co.uk/Graveyard-Book-Neil-Gaiman/dp/1408821941",
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/The-Graveyard-Book/details/345678" 
                }
            ],
            'Year 9': [
                {
                    title: "Noughts & Crosses",
                    author: "Malorie Blackman",
                    coverUrl: "https://placehold.co/100x150/dc143c/ffffff?text=Noughts+%26+Crosses",
                    buyLink: "https://www.amazon.co.uk/Noughts-Crosses-Malorie-Blackman/dp/0552573210",
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/Noughts-Crosses/details/456789" 
                },
                {
                    title: "Of Mice and Men",
                    author: "John Steinbeck",
                    coverUrl: "https://placehold.co/100x150/a9a9a9/000000?text=Of+Mice+%26+Men",
                    buyLink: "https://www.amazon.co.uk/Mice-Men-Penguin-Modern-Classics/dp/0141185108",
                    borrowLink: "https://www.borrowbox.com/gb/en/search/Of-Mice-and-Men" 
                }
            ],
            'Year 10': [
                {
                    title: "The Great Gatsby",
                    author: "F. Scott Fitzgerald",
                    coverUrl: "https://placehold.co/100x150/ffd700/000000?text=Gatsby",
                    buyLink: "https://www.amazon.co.uk/Great-Gatsby-F-Scott-Fitzgerald/dp/0743273567",
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/The-Great-Gatsby/details/567890" 
                },
            ],
            'Year 11': [
                {
                    title: "Small Island",
                    author: "Andrea Levy",
                    coverUrl: "https://placehold.co/100x150/4682b4/ffffff?text=Small+Island",
                    buyLink: "https://www.amazon.co.uk/Small-Island-Andrea-Levy/dp/0755307567",
                    borrowLink: "https://www.borrowbox.com/gb/en/audiobooks/Small-Island/details/678901" 
                },
            ]
        };

        // =================================================================
        // 2. RENDERING AND NAVIGATION LOGIC (UPDATED YEAR TAB COLORS)
        // =================================================================
        let currentYear = 'Year 7'; // Default view

        document.addEventListener('DOMContentLoaded', () => {
            renderYearTabs();
            // Automatically load the default view (Year 7)
            loadReadingList(currentYear);
            // Initialize main nav (recommended reads is active by default)
            document.getElementById('nav-reads').classList.replace('bg-gray-200', 'bg-blue-600');
            document.getElementById('nav-reads').classList.replace('text-gray-700', 'text-white');
            document.getElementById('nav-reads').classList.add('shadow-xl');

            // --- FIX FOR ICON LOADING ---
            // Explicitly call the function to convert data-lucide tags to SVG icons
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            }
            // ----------------------------
        });

        // Function to switch main sections
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            const navButtons = document.querySelectorAll('[id^="nav-"]');

            sections.forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');

            navButtons.forEach(button => {
                button.classList.remove('bg-blue-600', 'text-white', 'shadow-xl');
                button.classList.add('bg-gray-200', 'text-gray-700');
            });

            const activeNav = document.getElementById(`nav-${sectionId.replace('-', '')}`);
            if (activeNav) {
                activeNav.classList.remove('bg-gray-200', 'text-gray-700');
                activeNav.classList.add('bg-blue-600', 'text-white', 'shadow-xl');
            }
        }

        // Function to render the Year Tabs
        function renderYearTabs() {
            const yearTabsContainer = document.getElementById('year-tabs');
            yearTabsContainer.innerHTML = ''; // Clear existing tabs

            Object.keys(bookData).forEach(year => {
                const button = document.createElement('button');
                // *** UPDATED: Using yellow-500 for selected and hover:bg-yellow-300 for a stronger look ***
                button.className = `year-bubble py-2 px-4 font-semibold rounded-full shadow-md transition duration-300 ${year === currentYear ? 'bg-yellow-500 text-gray-800' : 'bg-gray-200 text-gray-700 hover:bg-yellow-300'}`;
                button.textContent = year;
                button.onclick = () => {
                    currentYear = year;
                    loadReadingList(year);
                    // Update tab styling
                    document.querySelectorAll('.year-bubble').forEach(btn => {
                        // Remove active classes (including the old orange one)
                        btn.classList.remove('bg-yellow-500', 'text-gray-800', 'bg-orange-500', 'text-white');
                        // Ensure inactive classes are present
                        btn.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    // Set the clicked button as active
                    button.classList.remove('bg-gray-200', 'text-gray-700');
                    button.classList.add('bg-yellow-500', 'text-gray-800');
                };
                yearTabsContainer.appendChild(button);
            });
        }

        // Function to render the actual list of books
        function loadReadingList(year) {
            const listContainer = document.getElementById('reading-list-container');
            listContainer.innerHTML = ''; // Clear old content
            const books = bookData[year] || [];

            if (books.length === 0) {
                listContainer.innerHTML = `<p class="text-center text-gray-500 p-8">No recommendations found for ${year} this month. Check back soon!</p>`;
                return;
            }

            books.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'flex flex-col sm:flex-row items-center sm:items-start p-4 border border-gray-100 rounded-lg bg-gray-50 shadow-sm hover:shadow-md transition duration-300';

                // 1. Cover Image (Left)
                const cover = document.createElement('img');
                cover.src = book.coverUrl;
                cover.alt = `${book.title} cover`;
                cover.className = 'w-24 h-36 object-cover rounded-md shadow-md flex-shrink-0 mb-4 sm:mb-0 sm:mr-6';

                // 2. Content (Middle/Right)
                const contentDiv = document.createElement('div');
                contentDiv.className = 'flex-grow text-center sm:text-left';

                const title = document.createElement('h3');
                title.className = 'text-xl font-bold text-gray-800';
                title.textContent = book.title;

                const author = document.createElement('p');
                author.className = 'text-md italic text-gray-600 mb-3';
                author.textContent = `by ${book.author}`;

                const linkContainer = document.createElement('div');
                linkContainer.className = 'flex flex-wrap justify-center sm:justify-start gap-3 mt-2';

                // Buy Link
                // The fix was to ensure the data had non-empty links.
                if (book.buyLink) {
                    const buyLink = document.createElement('a');
                    buyLink.href = book.buyLink;
                    buyLink.target = '_blank';
                    buyLink.className = 'py-2 px-4 text-sm font-medium rounded-full bg-green-500 text-white hover:bg-green-600 transition duration-300 shadow-sm';
                    buyLink.textContent = 'Buy on Amazon';
                    linkContainer.appendChild(buyLink);
                }

                // Borrow Link
                if (book.borrowLink) {
                    const borrowLink = document.createElement('a');
                    borrowLink.href = book.borrowLink;
                    borrowLink.target = '_blank';
                    borrowLink.className = 'py-2 px-4 text-sm font-medium rounded-full bg-blue-500 text-white hover:bg-blue-600 transition duration-300 shadow-sm';
                    borrowLink.textContent = 'Borrow on BorrowBox';
                    linkContainer.appendChild(borrowLink);
                }

                contentDiv.appendChild(title);
                contentDiv.appendChild(author);
                contentDiv.appendChild(linkContainer);

                // Add elements to card
                bookCard.appendChild(cover);
                bookCard.appendChild(contentDiv);
                listContainer.appendChild(bookCard);
            });
        }

        // =================================================================
        // 3. REVIEW FORM LOGIC
        // =================================================================
        document.getElementById('review-form').addEventListener('submit', (e) => {
            e.preventDefault();

            const title = document.getElementById('review-title').value.trim();
            const author = document.getElementById('review-author').value.trim();
            const student = document.getElementById('review-student').value.trim();
            const reviewText = document.getElementById('review-text').value.trim();
            
            // !!! START OF MONTHLY UPDATE ZONE !!!
            // UPDATE: Change this email address to your real school email!
            const helpEmail = 'honywood.reading@schoolmail.com'; 
            // !!! END OF MONTHLY UPDATE ZONE !!!


            // Construct the email body
            const emailSubject = `Student Book Review: ${title} by ${author}`;
            const emailBody = `
--- Monthly Student Review Submission ---

Book Title: ${title}
Author: ${author}
Student Name & Year: ${student}

--- Review Text ---
${reviewText}
-----------------------------------------

(Please select this review if chosen for the school headlines!)
            `.trim();

            const mailtoLink = `mailto:${helpEmail}?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;

            // Display success message and open mail client
            const statusDiv = document.getElementById('review-status');
            statusDiv.textContent = 'âœ… Review prepared! Your email client is now opening. Press "Send" to complete the submission.';
            statusDiv.classList.remove('hidden', 'bg-red-100', 'border-red-400');
            statusDiv.classList.add('bg-green-100', 'border-green-400');

            // Open the mail client
            window.open(mailtoLink, '_self');

            // Optionally clear the form after submission attempt
            // document.getElementById('review-form').reset();
        });

    </script>
</body>

</html>
